---
layout: post
title: KiTTY - ssh / telnet client
summary: SecureCRT - безусловно, топ, но здесь хочу написать про другое, про KiTTY - бесплатную альтернативу, форк старого и доброго PuTTY. KiTTY не свеж, но это и неважно, он медленно, но верно развивается по сей день, и это, безусловно, приятно. На текущий момент, последнее обновление от 16.11.2017. Кстати, работает KiTTY только на Windows.
featured-img: kittyonkeyboard
categories: Linux Networking Notes
tags: [ ssh, telnet ]
---
SecureCRT - безусловно, топ, но здесь хочу написать про другое, про KiTTY - бесплатную альтернативу, форк старого и доброго PuTTY. KiTTY не свеж, но это и неважно, он медленно, но верно развивается по сей день, и это, безусловно, приятно. На текущий момент, последнее обновление от 16.11.2017. Кстати, работает KiTTY только на Windows.

Возникла потребность в цветовой схеме для сессий в PuTTY. Но из коробки PuTTY такое не умеет, а пользоваться скриптами или готовыми .reg-файлами не было желания. Так я нашел KiTTY.

Чем зацепил KiTTY и что я использую в работе:

Автологин для сессий
---------------------

Для сессии можно сохранить логин и пароль, они будут автоматически использоваться при установлении соединения. В разделе Connection/Data заполняем Auto-login username и Auto-login password, переходим в Session, заполняем поле Saved Session/New Folder, жмем Save. Сессия сохранена.

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/session.png)

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/session_1.png)

Подробно [здесь](http://www.9bis.net/kitty/?page=Automatic%20password&zone=ru){:target="_blank"}

Иконка для каждой новой сессии
------------------------------

Вместо подсветки окна в Kitty для каждой новой сессии случайным образом выбирается иконка (есть всякие няшки из детства). Сменить иконку можно нажав CTRL + левая кнопка мыши с окно сессии.
Если добавить в файл kitty.ini 
```
[KiTTY]
icon=yes
```
то появится возможность для любой сохраненной сессии выбрать постоянную иконку. 

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/icon.png)

Иконки и подробности [здесь](http://www.9bis.net/kitty/?page=folks&zone=ru){:target="_blank"}

Мини-чат сервер
---------------

В отдельном окне можно запустить чат-сервер. Конечно, рядом всегда какой-нибудь более уютный чатик, но иногда это, и правда, удобно.
Для начала необходимо в ветке реестра 
```
[HKEY_CURRENT_USER\Software\9bis.com\KiTTY]
```
создать новую запись типа REG_SZ с названием `chat` и значением `1`.
Теперь для того, чтобы запустить чат-сервер подключитесь по telnet на localhost: 1987.
Если из коробки чат-сервер не работает, то, вероятно, нет библиотеки - скачайте из интернетов kchat.dll.
Не очень удобно переключаться между терминалом и чатом, поэтому можно использовать CTRL+F8 (сообщения в появившемся окне будут отправляться в чат). Хотя, CTRL+F8 тоже не очень удобно нажимать :\

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/chat.png)

Подробнее [здесь](http://www.9bis.net/kitty/?page=Chat&zone=ru){:target="_blank"}

SCP в терминале
----------------

Работает pscp.exe из окна SSH-сессии KITTY. Нужно скачать pscp.exe, который есть на [сайте PuTTY](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html){:target="_blank"} и положить его рядом с KiTTY. Теперь сообщаем KiTTY через kitty.ini о его месторасположении и настройках:
```
[KiTTY]
PSCPPath=C:\Kitty\pscp.exe 
pscpport=22
```
Вместо pscp можно использовать winscp. Тогда укажите в kitty.ini:
```
[KiTTY]
WinSCPPath=C:\WinSCP\WinSCP.exe
```
После подключения к серверу, нажав Ctrl+F3 (для pscp) или SHIFT+F3 (для winscp) и выбрав файл, можно загрузить его в ваш домашний каталог. Либо воспользоваться обычным Drag and drop в окно сессии.

Подробно [здесь](http://www.9bis.net/kitty/index.php?page=pscp%20and%20WinSCP%20integration){:target="_blank"}

Вишенка на тортике
------------------

Можно настроить KiTTY под себя, а затем сделать её portable и залить к себе в облако или раздать, например, коллегам, друзьями или порадовать свою девушку.
Можно использовать заранее настроенный клиент, и это прекрасно.
Для этого создаем в директории программы файл kitty.ini и пишем туда:
```
[KiTTY]
savemode=dir
initdelay=1.0
commanddelay=1.0
bcdelay=5
KittyPath=C:\soft\kitty.exe
```
Теперь, чтобы перенести настройки из реестра запустим KiTTY с ключем
```
kitty.exe -convert-dir
```
Заходим в директорию, где лежит KiTTY и пишем в адресной строке `cmd`

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/portable.png)

В открывшееся окно закидываем комманду
```
kitty.exe -convert-dir
```
Теперь в папке с KiTTY будут созданы поддиректории с настройками, можно использовать это всё как portable. При этом, кстати, настройки из реестра не удаляются.

Выполнение скриптов и пользовательских комманд
----------------------------------------------

* Если требуется ввод большого числа одинаковых комманд с разными параметрами или необходимо ввести небольшие куски конфига (например, настроить интерфейсы), то можно автоматизировать этот процесс с участием KiTTY.
Информация [здесь](https://habr.com/post/180281/){:target="_blank"}, дублировать не буду.

* В KiTTY можно закидывать скрипты, которые будут применяться при открытии сессии. Скрипт может быть произвольным набором комманд, которые понимает сервер, к которому мы подключаемся. Делается это здесь:

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/script.png)

Например, сделаем автологин: создаем текстовый файл, в котором в одной строке пишем ожидаемую от сервера последовательность символов, а в следующей - последовательность, которая будет отправлена программой:
```
login:
user1
password:
12345
```
Закинуть готовый скрипт в KiTTY можно также комбинацией клавиш CTRL+F2.
Подробнее [здесь](http://www.9bis.net/kitty/?page=Logon%20script&zone=ru){:target="_blank"} и [здесь](http://www.9bis.net/kitty/?page=Local%20script&zone=ru){:target="_blank"}

* Если при подключении необходимо выполнять одну или небольшой набор комманд, то можно просто добавить их в поле Command:

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/command.png)

Пояснение к тому, что введено на картинке: 

\n отправка символов и перевод строки

\p задержка на одну секунду, можно повторять нужное количество раз

\s05 пауза в секундах, если меньше 10, то пишется с нулем

Подробнее [здесь](http://www.9bis.net/kitty/?page=Automatic%20commands&zone=ru){:target="_blank"}

* Для ребятушек из мониторинга или для себя любимого можно набросать небольшие файлики с полезным набором комманд. При этом названием файлика будет alias, по которому будет доступно его содержимое.

1.Если у вас KiTTY уже portable, то для этого создаем текстовый файл в каталоге Commands, даем ему произвольное имя, пишем в файл набор комманд в формате `Name\Command\`, например:
```
MySQL Login\mysql -u root -pMyC00lPa$$w0rd\
```
Этот скрипт теперь будет доступен при нажатии в окне CTRL+правая кнопка мыши (или просто правая кнопка мыши)

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/usercommand.png)

2.Если ваша KiTTY не portable, то всё это хозяйство должно храниться в соответствующей ветке, в реестре. Прочитайте об этом [здесь](http://www.9bis.net/kitty/?page=Pre-defined%20commands&zone=ru){:target="_blank"}

Если у вас есть сессии-любимчики
---------------------------------

Для удобства доступа к сохраненным сессиям можно запустить launcher. Для этого из директории, где лежит KiTTY, запускаем cmd и пишем
```
kitty.exe -launcher
```
лаунчер появится в system tray, там будут все сохраненные ранее сессии:

![]({{ site.url }}{{ site.baseurl }}/assets/img/posts/kitty_client/launcher.png)

Подробнее [здесь](http://www.9bis.net/kitty/?page=The%20session%20launcher&zone=ru){:target="_blank"}

[Документация KiTTY от производителя](http://www.9bis.net/kitty/?page=Welcome&zone=ru){:target="_blank"}
